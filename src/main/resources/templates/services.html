<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layouts/main-layout}"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <title>Strandkorb Reservierungs-System</title>
</head>

<body>

<main layout:fragment="content" th:remove="tag">

    <h2>choose Service</h2>


    <br/><br/>
<script>
    function handleChange(checkbox) {
    if(checkbox.checked == true){


document.getElementById('price').value=Number(document.getElementById('price').value) + Number(checkbox.id)
    }else{
    document.getElementById('price').value=document.getElementById('price').value - checkbox.id
   }
}
</script>
    <div class="table-responsive">

            <form action="#" th:action="@{/processReservation?chair=}+ ${param.chair}" method="post">
                <div class="form-check" th:each ="service : ${services}">
                    <input class="form-check-input" type="checkbox" onchange='handleChange(this);' th:id="${service.preis}"  th:attr="name = ${service.serviceId}">
                    <label class="form-check-label" >
                        <span th:utext="${service.name}">...</span>
                        <span th:utext="${service.preis} + ' $'">...</span>

                    </label>
                </div>
         <input type="text" hidden id="price" name="price" value="0"/>
                <input    hidden name='begin' th:attr="value = ${begin}">
                <input    hidden name='end' th:attr="value = ${end}">

                <button class="btn btn-success" type="submit" >Submit</button>
            </form>





     </div>



 </main>

 </body>
 </html>
